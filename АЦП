void main(void) {//регистр ADCON0
    //Настроим частоту тактирования шины АЦП — Fosc/8
    PCFG0 = 0;
    ADCS0 = 1;//Fosc/8
    //ADON бит включения модуля ацп
    ADON = 1; //включен
    //выбор аналогового канала: канал 1 ножка RA1
    CHS0 = 1;
    CHS1 = 0;
    CHS2 = 0;
    while(1)
    {
        GO = 1;//старт ацп
//бери программу с отправкой числа в компьютер и её сюда добавь
        //оправка измеренного напряжения в компьютер
        while(!ADIF); // Ждем пока АЦП закончит преобразование
        ADIF = 0; // Сбросить флаг
        
        unsigned int adc_value = (ADRESH << 8) | ADRESL; // Считываем результат АЦП (10 бит)
        
        if (adc_value > 512) {
           PORTBbits.RB0 = 1; // Включить светодиод если значение > 512
        } else {
           PORTBbits.RB0 = 0; // Выключить светодиод если значение <= 512
        }
    }
    return;
}
